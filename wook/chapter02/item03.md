# private 생성자나 열거 타입으로 싱글턴임을 보증하라

## public static final 필드 방식의 싱글턴

* 핵심요약

    ```
    private 접근제어로 생성자를 만들어야 하기 때문에 전체에 하나뿐인 객체 생성을 해주는 것을 보장 하지만 예외 사항이 있음.
    ```

* 예외사항

    ```
    리플렉션 이용해서 접근제어를 강제로 풀어줄 수 있음. 그렇게 되면 객체 여러개 만들 수 있음.
    ```

## static factory 방식의 싱글턴

* 장점

    * API를 바꾸지 않고 싱글턴 아니게 바꿀 수 있음
    
    ```
    어떻게 하는지 모르겠음;;
    ```

    * 제너릭 싱글턴 팩토리를 만들 수도 있음

    ```java
    private static ClassName<Object> instance = (t) -> t;

    public static <T> ClassName<T> getIntstance() {
        return (ClassName<T>) instance;
    }
    ```

    * Supplier<T> 로도 사용 가능함

```
직렬화와 역직렬화를 할 때 쓰레기 객체가 생성될 수 있다는 이야기를 하는데 어떤식으로 생성될 수 있는지에 대해서는 잘 모르겠음.

전체적으로 필드방식 싱글턴보다는 유연하게 사용할 수 있다는 내용인거같음.
```

## 열거형으로 만들기

* 장점

    * 대부분의상황에서 이 방법이 제일 좋은 방법이라고 함

    ```
    어떤 상황인지...??
    ```

    * 직렬화 상황에서 쓰레기 객체가 생성되는 것을 방지해주거나 리플렉션에 의한 공격도 막아줄 수 있음.

* 주의

    * Enum 외의 클래스를 상속하려고 할 때 사용 못함

    ```
    당연하지.... 다중상속 불가니까
    ```