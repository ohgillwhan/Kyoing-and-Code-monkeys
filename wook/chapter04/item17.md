# 변경 가능성을 최소화하라

## 핵심정리

### 불변 객체를 만드는 규칙

1. 객체의 상태를 변경하는 메서드(변경자)를 제공하지 않는다.

    ```
    Setter를 말하는 것이 아닌가 하는 생각이다.
    ```

1. 클래스를 확장할 수 없도록 한다.

    * final로 선언한다.

    * 생성자 대신 정적 팩토리 메서드를 사용한다.

        > Link: [item01](../chapter02/item01.md)

1. 모든 필드를 final 선언한다.

    ```
    동기화 없이 다른 thread에서도 같은 것을 사용하게 하는 방법이기도 함
    ```

1. 모든 필드를 private으로 선언한다.

    ```
    final 클래스를 선언해서 만들어도 되지만 내부구성에 대해 바꾸는게 자유롭지 않아서 별로라고 하는데, 이것에 대해서는 다른 생각을 하는게 내부표현을 바꾼다는 말은 상속해서 재정의 한다는 말인거같은데 재정의에 대해서 유연하게 생각하면 캡슐화를 깨버리는 상황이 발생할수 있기 때문에 신중하게 해야한다는것으로 알고있는데 그것과 상반된 이야기인거같다... 그래서 뭔말인지 좀 모르겠다.. 그리고 리플렉션 공격에 취약하다고 전 챕터에서 이야기 했던거 같은데 그 부분은 어찌되는건지 잘 모르겠다.
    ```

1. 자신 외에는 내부의 가변 컴포넌트에 접근할 수 없도록 한다.

    ```
    이 말대로라면, private으로 일단 만들어 두고 난후에 공개여부에 대한 고민을 하는게 좋아보인다.
    ```

<br>

## 생각정리

```
모든 객체를 불변객체에 상속불가로 만들어 버리는건 너무 강력한 제약인것 같다. 그래서 저자도 불변으로 만들 수 없는 경우에는 클래스내에 변경할 수 있는 부분을 최소한으로 하고 공개범위 또한 최소한으로 해야한다고 한다. private final로 일단 만들고 난 후에 공개여부를 결정해야한다는 것이다.
```